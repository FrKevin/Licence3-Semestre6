<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>TP3 Reseaux: TP 3: Reseaux</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TP3 Reseaux
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TP 3: Reseaux </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This project was created in order to create and decrypt an DNS Packet</p>
<h1><a class="anchor" id="overview"></a>
Overview</h1>
<p>The goal of domain names is to provide a mechanism for naming resources in such a way that the names are usable in different hosts, networks, protocol families, internets, and administrative organizations. From the user's point of view, domain names are useful as arguments to a local agent, called a resolver, which retrieves information associated with the domain name.</p>
<h1><a class="anchor" id="format"></a>
The format of DNS Packet</h1>
<p>All communications inside of the domain protocol are carried in a single format called a message. The top level format of message is divided into 5 sections (some of which are empty in certain cases) shown below: </p><pre class="fragment">        +---------------------+
        |        Header       |
        +---------------------+
        |       Question      | the question for the name server
        +---------------------+
        |        Answer       | RRs answering the question
        +---------------------+
        |      Authority      | RRs pointing toward an authority
        +---------------------+
        |      Additional     | RRs holding additional information
        +---------------------+</pre><h2><a class="anchor" id="header"></a>
The header</h2>
<p>The header contains the following fields: </p><pre class="fragment">             0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5
           +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
           |                      ID                       |
           +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
           |QR|   Opcode  |AA|TC|RD|RA|   Z    |   RCODE   |
           +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
           |                    QDCOUNT                    |
           +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
           |                    ANCOUNT                    |
           +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
           |                    NSCOUNT                    |
           +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
           |                    ARCOUNT                    |
           +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

           where:
           ID              A 16 bit identifier assigned by the program that
                           generates any kind of query.  This identifier is copied
                           the corresponding reply and can be used by the requester
                           to match up replies to outstanding queries.

           QR              A one bit field that specifies whether this message is a
                           query (0), or a response (1).

           OPCODE          A four bit field that specifies kind of query in this
                           message.  This value is set by the originator of a query
                           and copied into the response.  The values are:

                           0               a standard query (QUERY)

                           1               an inverse query (IQUERY)

                           2               a server status request (STATUS)

                           3-15            reserved for future use

           AA              Authoritative Answer - this bit is valid in responses,
                           and specifies that the responding name server is an
                           authority for the domain name in question section.

                           Note that the contents of the answer section may have
                           multiple owner names because of aliases.  The AA bit
                           corresponds to the name which matches the query name, or
                           the first owner name in the answer section.

           TC              TrunCation - specifies that this message was truncated
                           due to length greater than that permitted on the
                           transmission channel.

           RD              Recursion Desired - this bit may be set in a query and
                           is copied into the response.  If RD is set, it directs
                           the name server to pursue the query recursively.
                           Recursive query support is optional.

           RA              Recursion Available - this be is set or cleared in a
                           response, and denotes whether recursive query support is
                           available in the name server.

           Z               Reserved for future use.  Must be zero in all queries
                           and responses.

           RCODE           Response code - this 4 bit field is set as part of
                           responses.  The values have the following
                           interpretation:

                           0               No error condition

                           1               Format error - The name server was
                                           unable to interpret the query.

                           2               Server failure - The name server was
                                           unable to process this query due to a
                                           problem with the name server.

                           3               Name Error - Meaningful only for
                                           responses from an authoritative name
                                           server, this code signifies that the
                                           domain name referenced in the query does
                                           not exist.

                           4               Not Implemented - The name server does
                                           not support the requested kind of query.

                           5               Refused - The name server refuses to
                                           perform the specified operation for
                                           policy reasons.  For example, a name
                                           server may not wish to provide the
                                           information to the particular requester,
                                           or a name server may not wish to perform
                                           a particular operation (e.g., zone transfer)
                                            for particular data.

                           6-15            Reserved for future use.

           QDCOUNT         an unsigned 16 bit integer specifying the number of
                           entries in the question section.

           ANCOUNT         an unsigned 16 bit integer specifying the number of
                           resource records in the answer section.

           NSCOUNT         an unsigned 16 bit integer specifying the number of name
                           server resource records in the authority records
                           section.

           ARCOUNT         an unsigned 16 bit integer specifying the number of
                           resource records in the additional records section.</pre><h2><a class="anchor" id="question"></a>
The question</h2>
<p>The question section is used to carry the "question" in most queries, i.e., the parameters that define what is being asked. The section contains QDCOUNT (usually 1) entries, each of the following format: </p><pre class="fragment">                0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                                               |
               /                     QNAME                     /
               /                                               /
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                     QTYPE                     |
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                     QCLASS                    |
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

           where:
               QNAME       a domain name represented as a sequence of labels, where
                           each label consists of a length octet followed by that
                           number of octets.  The domain name terminates with the
                           zero length octet for the null label of the root.  Note
                           that this field may be an odd number of octets; no
                           padding is used.

               QTYPE       a two octet code which specifies the type of the query.
                           The values for this field include all codes valid for a
                           TYPE field, together with some more general codes which
                           can match more than one type of RR.

               QCLASS      A two octet code that specifies the class of the query.
                           For example, the QCLASS field is IN for the Internet.</pre><h2><a class="anchor" id="answer"></a>
The Answer</h2>
<p>The answer, authority, and additional sections all share the same format: a variable number of resource records, where the number of records is specified in the corresponding count field in the header. Each resource record has the following format: </p><pre class="fragment">                0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                                               |
               /                                               /
               /                      NAME                     /
               |                                               |
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                      TYPE                     |
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                     CLASS                     |
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                      TTL                      |
               |                                               |
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
               |                   RDLENGTH                    |
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--|
               /                     RDATA                     /
               /                                               /
               +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

               where:

               NAME        a domain name to which this resource record pertains.

               TYPE        two octets containing one of the RR type codes.  This
                           field specifies the meaning of the data in the RDATA
                           field.

               CLASS       two octets which specify the class of the data in the
                           RDATA field.

               TTL         a 32 bit unsigned integer that specifies the time
                           interval (in seconds) that the resource record may be
                           cached before it should be discarded.  Zero values are
                           interpreted to mean that the RR can only be used for the
                           transaction in progress, and should not be cached.

               RDLENGTH    an unsigned 16 bit integer that specifies the length in
                           octets of the RDATA field.

               RDATA       a variable length string of octets that describes the
                           resource.  The format of this information varies
                           according to the TYPE and CLASS of the resource record.
                           For example, the if the TYPE is A and the CLASS is IN,
                           the RDATA field is a 4 octet ARPA Internet address.</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
